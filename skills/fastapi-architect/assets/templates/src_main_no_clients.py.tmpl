from __future__ import annotations

from fastapi import FastAPI

from api.v1.router import router as __SERVICE_PY___router
from core.config import settings


def _docs_enabled() -> bool:
    return settings.DEBUG


_DOCS = _docs_enabled()

app = FastAPI(
    title=settings.SERVICE_NAME,
    version=settings.APP_VERSION,
    description="__APP_TITLE__",
    docs_url="/docs" if _DOCS else None,
    redoc_url="/redoc" if _DOCS else None,
    openapi_url="/openapi.json" if _DOCS else None,
)

app.include_router(__SERVICE_PY___router, prefix="/v1", tags=["__SERVICE_PY__"])
